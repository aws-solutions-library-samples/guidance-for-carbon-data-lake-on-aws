{
  "version": 3,
  "sources": ["scalable-table-attribute.ts"],
  "sourcesContent": ["import * as appscaling from '../../aws-applicationautoscaling';\nimport { UtilizationScalingProps } from './scalable-attribute-api';\n\n/**\n * A scalable table attribute\n */\nexport class ScalableTableAttribute extends appscaling.BaseScalableAttribute {\n  private scalingPolicyCreated = false;\n\n  /**\n   * Scale out or in based on time\n   */\n  public scaleOnSchedule(id: string, action: appscaling.ScalingSchedule) {\n    this.scalingPolicyCreated = true;\n    super.doScaleOnSchedule(id, action);\n  }\n\n  /**\n   * Scale out or in to keep utilization at a given level\n   */\n  public scaleOnUtilization(props: UtilizationScalingProps) {\n    if (props.targetUtilizationPercent < 10 || props.targetUtilizationPercent > 90) {\n      // eslint-disable-next-line max-len\n      throw new RangeError(`targetUtilizationPercent for DynamoDB scaling must be between 10 and 90 percent, got: ${props.targetUtilizationPercent}`);\n    }\n    this.scalingPolicyCreated = true;\n    const predefinedMetric = this.props.dimension.indexOf('ReadCapacity') === -1\n      ? appscaling.PredefinedMetric.DYNAMODB_WRITE_CAPACITY_UTILIZATION\n      : appscaling.PredefinedMetric.DYNAMODB_READ_CAPACITY_UTILIZATION;\n\n    super.doScaleToTrackMetric('Tracking', {\n      policyName: props.policyName,\n      disableScaleIn: props.disableScaleIn,\n      scaleInCooldown: props.scaleInCooldown,\n      scaleOutCooldown: props.scaleOutCooldown,\n      targetValue: props.targetUtilizationPercent,\n      predefinedMetric,\n    });\n  }\n\n  /** @internal */\n  public get _scalingPolicyCreated(): boolean {\n    return this.scalingPolicyCreated;\n  }\n}\n\n/**\n * Properties for enabling DynamoDB capacity scaling\n */\nexport interface EnableScalingProps {\n  /**\n   * Minimum capacity to scale to\n   */\n  minCapacity: number;\n\n  /**\n   * Maximum capacity to scale to\n   */\n  maxCapacity: number;\n}\n"],
  "mappings": "0GAAA,KAAA,YAAA,QAAA,oCAMA,oCAA4C,YAAW,qBAAqB,CAA5E,aAAA,qBACU,KAAA,qBAAuB,GAKxB,gBAAgB,GAAY,OAAkC,CACnE,KAAK,qBAAuB,GAC5B,MAAM,kBAAkB,GAAI,QAMvB,mBAAmB,MAA8B,CACtD,GAAI,MAAM,yBAA2B,IAAM,MAAM,yBAA2B,GAE1E,KAAM,IAAI,YAAW,yFAAyF,MAAM,4BAEtH,KAAK,qBAAuB,GAC5B,KAAM,kBAAmB,KAAK,MAAM,UAAU,QAAQ,kBAAoB,GACtE,WAAW,iBAAiB,oCAC5B,WAAW,iBAAiB,mCAEhC,MAAM,qBAAqB,WAAY,CACrC,WAAY,MAAM,WAClB,eAAgB,MAAM,eACtB,gBAAiB,MAAM,gBACvB,iBAAkB,MAAM,iBACxB,YAAa,MAAM,yBACnB,sBAKO,wBAAqB,CAC9B,MAAO,MAAK,sBApChB,QAAA,uBAAA",
  "names": []
}
