{
  "version": 3,
  "sources": ["external-task-definition.ts"],
  "sourcesContent": ["import { Construct } from 'constructs';\nimport { ImportedTaskDefinition } from '../../lib/base/_imported-task-definition';\nimport {\n  CommonTaskDefinitionAttributes,\n  CommonTaskDefinitionProps,\n  Compatibility,\n  InferenceAccelerator,\n  ITaskDefinition,\n  NetworkMode,\n  TaskDefinition,\n  Volume,\n} from '../base/task-definition';\n\n/**\n * The properties for a task definition run on an External cluster.\n */\nexport interface ExternalTaskDefinitionProps extends CommonTaskDefinitionProps {\n\n}\n\n/**\n * The interface of a task definition run on an External cluster.\n */\nexport interface IExternalTaskDefinition extends ITaskDefinition {\n\n}\n\n/**\n * Attributes used to import an existing External task definition\n */\nexport interface ExternalTaskDefinitionAttributes extends CommonTaskDefinitionAttributes {\n\n}\n\n/**\n * The details of a task definition run on an External cluster.\n *\n * @resource AWS::ECS::TaskDefinition\n */\nexport class ExternalTaskDefinition extends TaskDefinition implements IExternalTaskDefinition {\n\n  /**\n   * Imports a task definition from the specified task definition ARN.\n   */\n  public static fromEc2TaskDefinitionArn(scope: Construct, id: string, externalTaskDefinitionArn: string): IExternalTaskDefinition {\n    return new ImportedTaskDefinition(scope, id, {\n      taskDefinitionArn: externalTaskDefinitionArn,\n    });\n  }\n\n  /**\n   * Imports an existing External task definition from its attributes\n   */\n  public static fromExternalTaskDefinitionAttributes(\n    scope: Construct,\n    id: string,\n    attrs: ExternalTaskDefinitionAttributes,\n  ): IExternalTaskDefinition {\n    return new ImportedTaskDefinition(scope, id, {\n      taskDefinitionArn: attrs.taskDefinitionArn,\n      compatibility: Compatibility.EXTERNAL,\n      networkMode: NetworkMode.BRIDGE,\n      taskRole: attrs.taskRole,\n    });\n  }\n\n  /**\n   * Constructs a new instance of the ExternalTaskDefinition class.\n   */\n  constructor(scope: Construct, id: string, props: ExternalTaskDefinitionProps = {}) {\n    super(scope, id, {\n      ...props,\n      compatibility: Compatibility.EXTERNAL,\n      networkMode: NetworkMode.BRIDGE,\n    });\n  }\n\n  /**\n   * Overridden method to throw error, as volumes are not supported for external task definitions\n   */\n  public addVolume(_volume: Volume) {\n    throw new Error('External task definitions doesnt support volumes');\n  }\n\n  /**\n   * Overriden method to throw error as interface accelerators are not supported for external tasks\n   */\n  public addInferenceAccelerator(_inferenceAccelerator: InferenceAccelerator) {\n    throw new Error('Cannot use inference accelerators on tasks that run on External service');\n  }\n}\n"],
  "mappings": "gOACA,4BAAA,QAAA,4CACA,kBAAA,QAAA,2BAqCA,oCAA4C,mBAAA,cAAc,CA8BxD,YAAY,MAAkB,GAAY,MAAqC,GAAE,CAC/E,MAAM,MAAO,GAAI,IACZ,MACH,cAAe,kBAAA,cAAc,SAC7B,YAAa,kBAAA,YAAY,8FA7Bf,0BAAyB,MAAkB,GAAY,0BAAiC,CACpG,MAAO,IAAI,6BAAA,uBAAuB,MAAO,GAAI,CAC3C,kBAAmB,kCAOT,sCACZ,MACA,GACA,MAAuC,4FAEhC,GAAI,6BAAA,uBAAuB,MAAO,GAAI,CAC3C,kBAAmB,MAAM,kBACzB,cAAe,kBAAA,cAAc,SAC7B,YAAa,kBAAA,YAAY,OACzB,SAAU,MAAM,WAkBb,UAAU,QAAe,mEACxB,GAAI,OAAM,oDAMX,wBAAwB,sBAA2C,+FAClE,GAAI,OAAM,4EAjDpB,QAAA,uBAAA",
  "names": []
}
