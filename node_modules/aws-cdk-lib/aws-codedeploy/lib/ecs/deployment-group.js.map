{
  "version": 3,
  "sources": ["deployment-group.ts"],
  "sourcesContent": ["import * as cdk from '../../../core';\nimport { Construct } from 'constructs';\nimport { arnForDeploymentGroup } from '../utils';\nimport { IEcsApplication } from './application';\nimport { EcsDeploymentConfig, IEcsDeploymentConfig } from './deployment-config';\n\n/**\n * Interface for an ECS deployment group.\n */\nexport interface IEcsDeploymentGroup extends cdk.IResource {\n  /**\n   * The reference to the CodeDeploy ECS Application that this Deployment Group belongs to.\n   */\n  readonly application: IEcsApplication;\n\n  /**\n   * The physical name of the CodeDeploy Deployment Group.\n   * @attribute\n   */\n  readonly deploymentGroupName: string;\n\n  /**\n   * The ARN of this Deployment Group.\n   * @attribute\n   */\n  readonly deploymentGroupArn: string;\n\n  /**\n   * The Deployment Configuration this Group uses.\n   */\n  readonly deploymentConfig: IEcsDeploymentConfig;\n}\n\n/**\n * Note: This class currently stands as a namespaced container for importing an ECS\n * Deployment Group defined outside the CDK app until CloudFormation supports provisioning\n * ECS Deployment Groups. Until then it is closed (private constructor) and does not\n * extend {@link Construct}.\n *\n * @resource AWS::CodeDeploy::DeploymentGroup\n */\nexport class EcsDeploymentGroup {\n  /**\n   * Import an ECS Deployment Group defined outside the CDK app.\n   *\n   * @param scope the parent Construct for this new Construct\n   * @param id the logical ID of this new Construct\n   * @param attrs the properties of the referenced Deployment Group\n   * @returns a Construct representing a reference to an existing Deployment Group\n   */\n  public static fromEcsDeploymentGroupAttributes(\n    scope:Construct,\n    id: string,\n    attrs: EcsDeploymentGroupAttributes): IEcsDeploymentGroup {\n    return new ImportedEcsDeploymentGroup(scope, id, attrs);\n  }\n\n  private constructor() {\n    // nothing to do until CFN supports ECS deployment groups\n  }\n}\n\n/**\n * Properties of a reference to a CodeDeploy ECS Deployment Group.\n *\n * @see EcsDeploymentGroup#fromEcsDeploymentGroupAttributes\n */\nexport interface EcsDeploymentGroupAttributes {\n  /**\n   * The reference to the CodeDeploy ECS Application\n   * that this Deployment Group belongs to.\n   */\n  readonly application: IEcsApplication;\n\n  /**\n   * The physical, human-readable name of the CodeDeploy ECS Deployment Group\n   * that we are referencing.\n   */\n  readonly deploymentGroupName: string;\n\n  /**\n   * The Deployment Configuration this Deployment Group uses.\n   *\n   * @default EcsDeploymentConfig.ALL_AT_ONCE\n   */\n  readonly deploymentConfig?: IEcsDeploymentConfig;\n}\n\nclass ImportedEcsDeploymentGroup extends cdk.Resource implements IEcsDeploymentGroup {\n  public readonly application: IEcsApplication;\n  public readonly deploymentGroupName: string;\n  public readonly deploymentGroupArn: string;\n  public readonly deploymentConfig: IEcsDeploymentConfig;\n\n  constructor(scope:Construct, id: string, props: EcsDeploymentGroupAttributes) {\n    super(scope, id);\n    this.application = props.application;\n    this.deploymentGroupName = props.deploymentGroupName;\n    this.deploymentGroupArn = arnForDeploymentGroup(props.application.applicationName, props.deploymentGroupName);\n    this.deploymentConfig = props.deploymentConfig || EcsDeploymentConfig.ALL_AT_ONCE;\n  }\n}\n"],
  "mappings": "4NAAA,IAAA,QAAA,iBAEA,QAAA,QAAA,YAEA,oBAAA,QAAA,uBAqCA,wBAA+B,CAgB7B,aAAA,QAPc,kCACZ,MACA,GACA,MAAmC,+FAC5B,GAAI,4BAA2B,MAAO,GAAI,QAbrD,QAAA,mBAAA,uIA+CA,wCAAyC,KAAI,QAAQ,CAMnD,YAAY,MAAiB,GAAY,MAAmC,CAC1E,MAAM,MAAO,IACb,KAAK,YAAc,MAAM,YACzB,KAAK,oBAAsB,MAAM,oBACjC,KAAK,mBAAqB,QAAA,sBAAsB,MAAM,YAAY,gBAAiB,MAAM,qBACzF,KAAK,iBAAmB,MAAM,kBAAoB,oBAAA,oBAAoB",
  "names": []
}
