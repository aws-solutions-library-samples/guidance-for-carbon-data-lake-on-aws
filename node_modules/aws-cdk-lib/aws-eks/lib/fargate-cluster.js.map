{
  "version": 3,
  "sources": ["fargate-cluster.ts"],
  "sourcesContent": ["import { Construct } from 'constructs';\nimport { Cluster, ClusterOptions, CoreDnsComputeType } from './cluster';\nimport { FargateProfile, FargateProfileOptions } from './fargate-profile';\n\n/**\n * Configuration props for EKS Fargate.\n */\nexport interface FargateClusterProps extends ClusterOptions {\n  /**\n   * Fargate Profile to create along with the cluster.\n   *\n   * @default - A profile called \"default\" with 'default' and 'kube-system'\n   *            selectors will be created if this is left undefined.\n   */\n  readonly defaultProfile?: FargateProfileOptions;\n}\n\n/**\n * Defines an EKS cluster that runs entirely on AWS Fargate.\n *\n * The cluster is created with a default Fargate Profile that matches the\n * \"default\" and \"kube-system\" namespaces. You can add additional profiles using\n * `addFargateProfile`.\n */\nexport class FargateCluster extends Cluster {\n  /**\n   * Fargate Profile that was created with the cluster.\n   */\n  public readonly defaultProfile: FargateProfile;\n\n  constructor(scope: Construct, id: string, props: FargateClusterProps) {\n    super(scope, id, {\n      ...props,\n      defaultCapacity: 0,\n      coreDnsComputeType: props.coreDnsComputeType ?? CoreDnsComputeType.FARGATE,\n      version: props.version,\n    });\n\n    this.defaultProfile = this.addFargateProfile(\n      props.defaultProfile?.fargateProfileName ?? (props.defaultProfile ? 'custom' : 'default'),\n      props.defaultProfile ?? {\n        selectors: [\n          { namespace: 'default' },\n          { namespace: 'kube-system' },\n        ],\n      },\n    );\n  }\n}\n"],
  "mappings": "qNACA,UAAA,QAAA,aAuBA,4BAAoC,WAAA,OAAO,CAMzC,YAAY,MAAkB,GAAY,MAA0B,iBAClE,MAAM,MAAO,GAAI,IACZ,MACH,gBAAiB,EACjB,mBAAkB,IAAE,MAAM,sBAAkB,MAAA,KAAA,OAAA,GAAI,UAAA,mBAAmB,QACnE,QAAS,MAAM,iFAGjB,KAAK,eAAiB,KAAK,kBAAiB,IAAA,IAC1C,MAAM,kBAAc,MAAA,KAAA,OAAA,OAAA,GAAE,sBAAkB,MAAA,KAAA,OAAA,GAAK,MAAM,eAAiB,SAAW,UAAU,IACzF,MAAM,kBAAc,MAAA,KAAA,OAAA,GAAI,CACtB,UAAW,CACT,CAAE,UAAW,WACb,CAAE,UAAW,mBAnBvB,QAAA,eAAA",
  "names": []
}
