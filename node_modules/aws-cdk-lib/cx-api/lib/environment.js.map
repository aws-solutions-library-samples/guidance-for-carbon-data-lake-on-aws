{
  "version": 3,
  "sources": ["environment.ts"],
  "sourcesContent": ["/**\n * Parser for the artifact environment field.\n *\n * Account validation is relaxed to allow account aliasing in the future.\n */\nconst AWS_ENV_REGEX = /aws\\:\\/\\/([a-z0-9A-Z\\-\\@\\.\\_]+)\\/([a-z\\-0-9]+)/;\n\n/**\n * Models an AWS execution environment, for use within the CDK toolkit.\n */\nexport interface Environment {\n  /** The arbitrary name of this environment (user-set, or at least user-meaningful) */\n  readonly name: string;\n\n  /** The AWS account this environment deploys into */\n  readonly account: string;\n\n  /** The AWS region name where this environment deploys into */\n  readonly region: string;\n}\n\nexport const UNKNOWN_ACCOUNT = 'unknown-account';\nexport const UNKNOWN_REGION = 'unknown-region';\n\nexport class EnvironmentUtils {\n  public static parse(environment: string): Environment {\n    const env = AWS_ENV_REGEX.exec(environment);\n    if (!env) {\n      throw new Error(\n        `Unable to parse environment specification \"${environment}\". ` +\n        'Expected format: aws://account/region');\n    }\n\n    const [, account, region] = env;\n    if (!account || !region) {\n      throw new Error(`Invalid environment specification: ${environment}`);\n    }\n\n    return { account, region, name: environment };\n  }\n\n  /**\n   * Build an environment object from an account and region\n   */\n  public static make(account: string, region: string): Environment {\n    return { account, region, name: this.format(account, region) };\n  }\n\n  /**\n   * Format an environment string from an account and region\n   */\n  public static format(account: string, region: string): string {\n    return `aws://${account}/${region}`;\n  }\n}\n"],
  "mappings": "2MAKM,cAAgB,iDAgBT,QAAA,gBAAkB,kBAClB,QAAA,eAAiB,iBAE9B,sBAA6B,OACb,OAAM,YAAmB,CACrC,KAAM,KAAM,cAAc,KAAK,aAC/B,GAAI,CAAC,IACH,KAAM,IAAI,OACR,8CAA8C,uDAIlD,KAAM,CAAC,CAAE,QAAS,QAAU,IAC5B,GAAI,CAAC,SAAW,CAAC,OACf,KAAM,IAAI,OAAM,sCAAsC,eAGxD,MAAO,CAAE,QAAS,OAAQ,KAAM,mBAMpB,MAAK,QAAiB,OAAc,CAChD,MAAO,CAAE,QAAS,OAAQ,KAAM,KAAK,OAAO,QAAS,eAMzC,QAAO,QAAiB,OAAc,CAClD,MAAO,SAAS,WAAW,UA5B/B,QAAA,iBAAA",
  "names": []
}
